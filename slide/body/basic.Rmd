## 今日の趣旨

1. gitを覚える (頭で)
1. 呪文を覚える (身体で)
1. 呪文を打ち消す呪文を覚える (身体で)

2と3をひたすら繰り返す.




<div style="font-size:xx-small;">

>	重犯罪人に自分の罪を思い知らせるなら、土を掘り移動させ、それからまた埋めて元に戻す、という作業を延々と繰り返させればよい。それは究極の拷問であり、最後には精神に異常をきたすであろう。(ドフトエフスキー?)

</div>


## Gitってなんだよ

プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システムだよ.

## 作った人 

<div class="column-left">
<div align="center">
<img src="https://thumbs.gfycat.com/EmptyArcticGermanpinscher-max-1mb.gif" width="450px">
</div>
</div>

<div class="column-right">
**リーナス・トーバルズ**

- Linux作った人(GitはLinux開発のためのツールとして作ったらしい)
- 開発当時,有名なOSの教授とお互いのOSを貶し合ってめちゃくちゃ喧嘩したのが有名
- Contributerに暴言を吐きまくりながらLinux Kernelの開発を続けている
- 最近,人の気持を学んでくるとか言って自主謹慎した
- 優しい終身の独裁者(OSSコミュニティのリーダをこう呼ぶ)の一人
- 優しい...
</div>

## なにができんだよ

fileの変更履歴を保存しておいて,あとから好きな時点の状態に復元できるよ.

---

### Google driveでよくね? 

よくない.

Google driveでできないこと

- RemoteとSyncするタイミングを制御できない(変更した瞬間自動的にSync)
    - 共有directoryの中身を自分のPCでだけ前のバージョンに戻す
    - 複数人で同じdirectoryの中身を編集する
- バックアップを取るタイミングを制御できない 
    - シミュレータが動く状態のdirectoryを保存しておきたいとかができない
- directoryのバックアップに含めるfileを制御できない
    - 設定ファイルはPCごとに別にしたいのでSyncしたくないとか思ってもできない 

---

- あとこうならないですむ 

<div align="center">
<img src="./fig/backup_hell.png" width="650px">
</div>


## 頭で覚えること 

Gitには3つの視点がある

- Commit tree 
- Three areas 
- File status 

これらを理解すればGit master.

## Commit tree 

Commit (directoryのスナップショット)からなるツリー.

- CommitはdirectoryのスナップショットにIDとしてhash値を振ったもの.
- Commitには親となるCommitが記録されている (= ツリー構造)
- master, HEAD, branchなどはCommitを指しているTag (Pointer)の名前
- 1度作ったcommitは基本的になくならない(探せなくはなるので注意) 

<div align="center">
<img src="https://git-scm.com/book/en/v2/images/advance-master.png" width="450px">
</div>


--- 

### どういうときに思い出すべき?

- branchの操作 (branch, checkout, reset, rebase, push, pull)
- commitの操作 (reset, cherry-pick)

## Three areas 

1つのCommitの裏には3つのレイヤがある

1. Working directory: 実際のdirectory
1. Staging Area (Index): Working direcoryのファイルのうちCommitに含まれる予定のファイルのcopy
1. git directory: Staging areaのfileのcopy 

<div align="center">
<img src="https://git-scm.com/book/en/v2/images/areas.png" width="450px">
</div>


--- 

### どういうときに思い出すべき?

- 特定のCommitの変更 (reset, checkout)
- 特定のfileの操作 (add, rm, mv, reset, stash)

## File status 

fileには4つの状態がある

1. Untracked: gitの追跡対象外のfile
1. Unmodified: gitの追跡対象で変更されていないfile(=Commitのfileと同じ)
1. Modified: gitの追跡対象で変更されたfile(=Commitのfileと違う)
1. Staged: gitの追跡対象で変更されたfileでStaging areaにcopy済みのもの 

<div align="center">
<img src="https://git-scm.com/book/en/v2/images/lifecycle.png" width="450px">
</div>


--- 

### どういうときに思い出すべき?

- 特定のfileの操作 (add, rm, mv, reset, stash)

## おめでとう 

あなたは,gitマスターになりました.

